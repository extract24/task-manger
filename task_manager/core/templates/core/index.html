{% extends 'core/base.html' %}

{% block title %} Home {% endblock %}

{% block content %}

<div class="container mx-auto py-6">
    <div class="flex justify-between items-center mb-10">
        <h1 class="text-3xl font-bold text-gray-900">Task Manager</h1>
        <a href="{% url 'core:create_task' %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Create New Task
        </a>
    </div>
    <table class="table-auto w-full">
        <thead>
            <tr class="bg-gray-200">
                <th class="px-4 py-2 text-left">Task Name</th>
                <th class="px-4 py-2 text-left">Start Date</th>
                <th class="px-4 py-2 text-left">Due Date</th>
                <th class="px-4 py-2 text-left">Assignee</th>
                <th class="px-4 py-2 text-left">Created By</th>
                <th class="px-4 py-2 text-left">Status</th>
                <th class="px-4 py-2 text-left"></th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr>
                <td class="border px-4 py-2">{{ task.name }}</td>
                <td class="border px-4 py-2">{{ task.start_date }}</td>
                <td class="border px-4 py-2">{{ task.due_date }}</td>
                <td class="border px-4 py-2">{{ task.assign_user }}</td>
                <td class="border px-4 py-2">{{ task.created_by }}</td>
                <td class="border px-4 py-2">{{ task.get_task_status_display }}</td>
                <td class="border px-4 py-2">
                    <a href="{% url 'core:detail' task.pk %}" class="text-blue-500 hover:text-blue-700 font-semibold mr-2">
                        View
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="border px-4 py-2 text-center">
                     No tasks found. <a href="{% url 'core:create_task' %}" class="text-blue-500 hover:text-blue-700 font-semibold">Create new task</a>.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}